# Управление организациями

Vue 3 приложение для управления списком организаций с возможностью добавления, редактирования, удаления и поиска.

## Технологический стек

- **Vue 3** - фреймворк с Composition API
- **TypeScript** - типизация
- **Pinia** - управление состоянием
- **Vite** - сборщик и dev-сервер
- **ESLint + Prettier** - качество кода

## Установка и сборка

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

### Сборка для продакшена

```bash
npm run build
```

### Предварительный просмотр сборки

```bash
npm run preview
```

### Проверка кода

```bash
npm run lint
npm run format:check
npm run type-check
```

## Структура проекта

```
src/
├── components/          # Vue компоненты
├── stores/             # Pinia хранилища
├── type/               # TypeScript типы
├── pages/              # Страницы приложения
├── App.vue             # Главный компонент
└── main.ts             # Точка входа
```

## Pinia Store

Приложение использует **Pinia** для управления состоянием данных таблицы:

### `tableStore.ts`

Центральное хранилище, которое содержит:

- **Данные таблицы** - массив организаций
- **Фильтрация** - поиск по ФИО директора
- **Пагинация** - разбивка на страницы (5 элементов на страницу)
- **Сортировка** - по колонкам таблицы
- **URL синхронизация** - сохранение текущей страницы в URL

### Основные методы:

- `addItem()` - добавление новой организации
- `removeItem()` - удаление организации
- `updateItem()` - обновление данных организации
- `setPage()` - переход на страницу
- `initializeFromUrl()` - восстановление состояния из URL

## Компоненты

### `CustomTable.vue`

Универсальная таблица с функциями:

- Отображение данных в табличном виде
- Сортировка по колонкам (клик по заголовку)
- Слоты для кастомного контента (кнопка удаления)
- Обработка кликов по строкам

**Props:**

- `headers` - конфигурация колонок
- `items` - данные для отображения

**Events:**

- `click` - клик по строке таблицы

### `CompanyModal.vue`

Модальное окно для работы с организациями:

- Форма добавления/редактирования организации
- Валидация полей в реальном времени
- Поддержка адреса (город, улица, дом)
- Автоматическое заполнение при редактировании

**Props:**

- `title` - заголовок модального окна
- `isNewItem` - режим (создание/редактирование)
- `id`, `companyName`, `directorFullName`, `phoneNumber`, `address` - данные организации

**Events:**

- `submit` - отправка формы
- `close` - закрытие модального окна

### `Pagination.vue`

Компонент пагинации:

- Умное отображение номеров страниц
- Кнопки "Предыдущая"/"Следующая"
- Сокращение при большом количестве страниц
- Адаптивный дизайн для мобильных устройств

**Props:**

- `currentPage` - текущая страница
- `totalPages` - общее количество страниц

**Events:**

- `page-change` - смена страницы

## Типы данных

### `Address`

```typescript
interface Address {
  city: string
  street: string
  house: string
}
```

### `TableItem`

```typescript
interface TableItem {
  id: number
  companyName: string
  directorFullName: string
  phoneNumber: string
  address: Address
}
```

## Функциональность

- ✅ **CRUD операции** - создание, чтение, обновление, удаление организаций
- ✅ **Поиск** - фильтрация по ФИО директора
- ✅ **Сортировка** - по названию компании и ФИО директора
- ✅ **Пагинация** - разбивка на страницы с синхронизацией URL
- ✅ **Валидация** - проверка заполнения обязательных полей
